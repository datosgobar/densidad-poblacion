$(window).ready(function () {
  // Left Panel Show/Hide
  var panelState = 0;
  $("#panel_show").click(function () {
    if (panelState === 0) {
      $("#container_panel").animate({ left: "-250px" }, 500, function () {});
      $("#panel_show").empty().append(">");
      panelState = 1;
    } else {
      $(".container_panel").animate({ left: "0px" }, 500, function () {});
      panelState = 0;
    }
  });

  // Tooltip Format
  var dptos = {
    dpto02001: { nombre: "Comuna 1", id_prov: "02" },
    dpto02002: { nombre: "Comuna 2", id_prov: "02" },
    dpto02003: { nombre: "Comuna 3", id_prov: "02" },
    dpto02004: { nombre: "Comuna 4", id_prov: "02" },
    dpto02005: { nombre: "Comuna 5", id_prov: "02" },
    dpto02006: { nombre: "Comuna 6", id_prov: "02" },
    dpto02007: { nombre: "Comuna 7", id_prov: "02" },
    dpto02008: { nombre: "Comuna 8", id_prov: "02" },
    dpto02009: { nombre: "Comuna 9", id_prov: "02" },
    dpto02010: { nombre: "Comuna 10", id_prov: "02" },
    dpto02011: { nombre: "Comuna 11", id_prov: "02" },
    dpto02012: { nombre: "Comuna 12", id_prov: "02" },
    dpto02013: { nombre: "Comuna 13", id_prov: "02" },
    dpto02014: { nombre: "Comuna 14", id_prov: "02" },
    dpto02015: { nombre: "Comuna 15", id_prov: "02" },
    dpto06007: { nombre: "Adolfo Alsina", id_prov: "06" },
    dpto06014: { nombre: "Adolfo González Cháves", id_prov: "06" },
    dpto06021: { nombre: "Alberti", id_prov: "06" },
    dpto06028: { nombre: "Almirante Brown", id_prov: "06" },
    dpto06035: { nombre: "Avellaneda", id_prov: "06" },
    dpto06042: { nombre: "Ayacucho", id_prov: "06" },
    dpto06049: { nombre: "Azul", id_prov: "06" },
    dpto06056: { nombre: "Bahía Blanca", id_prov: "06" },
    dpto06063: { nombre: "Balcarce", id_prov: "06" },
    dpto06070: { nombre: "Baradero", id_prov: "06" },
    dpto06077: { nombre: "Arrecifes", id_prov: "06" },
    dpto06084: { nombre: "Benito Juárez", id_prov: "06" },
    dpto06091: { nombre: "Berazategui", id_prov: "06" },
    dpto06098: { nombre: "Berisso", id_prov: "06" },
    dpto06105: { nombre: "Bolívar", id_prov: "06" },
    dpto06112: { nombre: "Bragado", id_prov: "06" },
    dpto06119: { nombre: "Brandsen", id_prov: "06" },
    dpto06126: { nombre: "Campana", id_prov: "06" },
    dpto06134: { nombre: "Cañuelas", id_prov: "06" },
    dpto06140: { nombre: "Capitán Sarmiento", id_prov: "06" },
    dpto06147: { nombre: "Carlos Casares", id_prov: "06" },
    dpto06154: { nombre: "Carlos Tejedor", id_prov: "06" },
    dpto06161: { nombre: "Carmen de Areco", id_prov: "06" },
    dpto06168: { nombre: "Castelli", id_prov: "06" },
    dpto06175: { nombre: "Colón", id_prov: "06" },
    dpto06182: { nombre: "Coronel de Marina L. Rosales", id_prov: "06" },
    dpto06189: { nombre: "Coronel Dorrego", id_prov: "06" },
    dpto06196: { nombre: "Coronel Pringles", id_prov: "06" },
    dpto06203: { nombre: "Coronel Suárez", id_prov: "06" },
    dpto06210: { nombre: "Chacabuco", id_prov: "06" },
    dpto06217: { nombre: "Chascomús", id_prov: "06" },
    dpto06224: { nombre: "Chivilcoy", id_prov: "06" },
    dpto06231: { nombre: "Daireaux", id_prov: "06" },
    dpto06238: { nombre: "Dolores", id_prov: "06" },
    dpto06245: { nombre: "Ensenada", id_prov: "06" },
    dpto06252: { nombre: "Escobar", id_prov: "06" },
    dpto06260: { nombre: "Esteban Echeverría", id_prov: "06" },
    dpto06266: { nombre: "Exaltación de la Cruz", id_prov: "06" },
    dpto06270: { nombre: "Ezeiza", id_prov: "06" },
    dpto06274: { nombre: "Florencio Varela", id_prov: "06" },
    dpto06277: { nombre: "Florentino Ameghino", id_prov: "06" },
    dpto06280: { nombre: "General Alvarado", id_prov: "06" },
    dpto06287: { nombre: "General Alvear", id_prov: "06" },
    dpto06294: { nombre: "General Arenales", id_prov: "06" },
    dpto06301: { nombre: "General Belgrano", id_prov: "06" },
    dpto06308: { nombre: "General Guido", id_prov: "06" },
    dpto06315: { nombre: "General Juan Madariaga", id_prov: "06" },
    dpto06322: { nombre: "General La Madrid", id_prov: "06" },
    dpto06329: { nombre: "General Las Heras", id_prov: "06" },
    dpto06336: { nombre: "General Lavalle", id_prov: "06" },
    dpto06343: { nombre: "General Paz", id_prov: "06" },
    dpto06351: { nombre: "General Pinto", id_prov: "06" },
    dpto06357: { nombre: "General Pueyrredón", id_prov: "06" },
    dpto06364: { nombre: "General Rodríguez", id_prov: "06" },
    dpto06371: { nombre: "General San Martín", id_prov: "06" },
    dpto06385: { nombre: "General Viamonte", id_prov: "06" },
    dpto06392: { nombre: "General Villegas", id_prov: "06" },
    dpto06399: { nombre: "Guaminí", id_prov: "06" },
    dpto06406: { nombre: "Hipólito Yrigoyen", id_prov: "06" },
    dpto06408: { nombre: "Hurlingham", id_prov: "06" },
    dpto06410: { nombre: "Ituzaingó", id_prov: "06" },
    dpto06412: { nombre: "José C. Paz", id_prov: "06" },
    dpto06413: { nombre: "Junín", id_prov: "06" },
    dpto06420: { nombre: "La Costa", id_prov: "06" },
    dpto06427: { nombre: "La Matanza", id_prov: "06" },
    dpto06434: { nombre: "Lanús", id_prov: "06" },
    dpto06441: { nombre: "La Plata", id_prov: "06" },
    dpto06448: { nombre: "Laprida", id_prov: "06" },
    dpto06455: { nombre: "Las Flores", id_prov: "06" },
    dpto06462: { nombre: "Leandro N. Alem", id_prov: "06" },
    dpto06469: { nombre: "Lincoln", id_prov: "06" },
    dpto06476: { nombre: "Lobería", id_prov: "06" },
    dpto06483: { nombre: "Lobos", id_prov: "06" },
    dpto06490: { nombre: "Lomas de Zamora", id_prov: "06" },
    dpto06497: { nombre: "Luján", id_prov: "06" },
    dpto06505: { nombre: "Magdalena", id_prov: "06" },
    dpto06511: { nombre: "Maipú", id_prov: "06" },
    dpto06515: { nombre: "Malvinas Argentinas", id_prov: "06" },
    dpto06518: { nombre: "Mar Chiquita", id_prov: "06" },
    dpto06525: { nombre: "Marcos Paz", id_prov: "06" },
    dpto06532: { nombre: "Mercedes", id_prov: "06" },
    dpto06539: { nombre: "Merlo", id_prov: "06" },
    dpto06547: { nombre: "Monte", id_prov: "06" },
    dpto06553: { nombre: "Monte Hermoso", id_prov: "06" },
    dpto06560: { nombre: "Moreno", id_prov: "06" },
    dpto06568: { nombre: "Morón", id_prov: "06" },
    dpto06574: { nombre: "Navarro", id_prov: "06" },
    dpto06581: { nombre: "Necochea", id_prov: "06" },
    dpto06588: { nombre: "9 de Julio", id_prov: "06" },
    dpto06595: { nombre: "Olavarría", id_prov: "06" },
    dpto06602: { nombre: "Patagones", id_prov: "06" },
    dpto06609: { nombre: "Pehuajó", id_prov: "06" },
    dpto06616: { nombre: "Pellegrini", id_prov: "06" },
    dpto06623: { nombre: "Pergamino", id_prov: "06" },
    dpto06630: { nombre: "Pila", id_prov: "06" },
    dpto06638: { nombre: "Pilar", id_prov: "06" },
    dpto06644: { nombre: "Pinamar", id_prov: "06" },
    dpto06648: { nombre: "Presidente Perón", id_prov: "06" },
    dpto06651: { nombre: "Puán", id_prov: "06" },
    dpto06655: { nombre: "Punta Indio", id_prov: "06" },
    dpto06658: { nombre: "Quilmes", id_prov: "06" },
    dpto06665: { nombre: "Ramallo", id_prov: "06" },
    dpto06672: { nombre: "Rauch", id_prov: "06" },
    dpto06679: { nombre: "Rivadavia", id_prov: "06" },
    dpto06686: { nombre: "Rojas", id_prov: "06" },
    dpto06693: { nombre: "Roque Pérez", id_prov: "06" },
    dpto06700: { nombre: "Saavedra", id_prov: "06" },
    dpto06707: { nombre: "Saladillo", id_prov: "06" },
    dpto06714: { nombre: "Salto", id_prov: "06" },
    dpto06721: { nombre: "Salliqueló", id_prov: "06" },
    dpto06728: { nombre: "San Andrés de Giles", id_prov: "06" },
    dpto06735: { nombre: "San Antonio de Areco", id_prov: "06" },
    dpto06742: { nombre: "San Cayetano", id_prov: "06" },
    dpto06749: { nombre: "San Fernando", id_prov: "06" },
    dpto06756: { nombre: "San Isidro", id_prov: "06" },
    dpto06760: { nombre: "San Miguel", id_prov: "06" },
    dpto06763: { nombre: "San Nicolás", id_prov: "06" },
    dpto06770: { nombre: "San Pedro", id_prov: "06" },
    dpto06778: { nombre: "San Vicente", id_prov: "06" },
    dpto06784: { nombre: "Suipacha", id_prov: "06" },
    dpto06791: { nombre: "Tandil", id_prov: "06" },
    dpto06798: { nombre: "Tapalqué", id_prov: "06" },
    dpto06805: { nombre: "Tigre", id_prov: "06" },
    dpto06812: { nombre: "Tordillo", id_prov: "06" },
    dpto06819: { nombre: "Tornquist", id_prov: "06" },
    dpto06826: { nombre: "Trenque Lauquen", id_prov: "06" },
    dpto06833: { nombre: "Tres Arroyos", id_prov: "06" },
    dpto06840: { nombre: "Tres de Febrero", id_prov: "06" },
    dpto06847: { nombre: "Tres Lomas", id_prov: "06" },
    dpto06854: { nombre: "25 de Mayo", id_prov: "06" },
    dpto06861: { nombre: "Vicente López", id_prov: "06" },
    dpto06868: { nombre: "Villa Gesell", id_prov: "06" },
    dpto06875: { nombre: "Villarino", id_prov: "06" },
    dpto06882: { nombre: "Zárate", id_prov: "06" },
    dpto10007: { nombre: "Ambato", id_prov: "10" },
    dpto10014: { nombre: "Ancasti", id_prov: "10" },
    dpto10021: { nombre: "Andalgalá", id_prov: "10" },
    dpto10028: { nombre: "Antofagasta de la Sierra", id_prov: "10" },
    dpto10035: { nombre: "Belén", id_prov: "10" },
    dpto10042: { nombre: "Capayán", id_prov: "10" },
    dpto10049: { nombre: "Capital", id_prov: "10" },
    dpto10056: { nombre: "El Alto", id_prov: "10" },
    dpto10063: { nombre: "Fray Mamerto Esquiú", id_prov: "10" },
    dpto10070: { nombre: "La Paz", id_prov: "10" },
    dpto10077: { nombre: "Paclín", id_prov: "10" },
    dpto10084: { nombre: "Pomán", id_prov: "10" },
    dpto10091: { nombre: "Santa María", id_prov: "10" },
    dpto10098: { nombre: "Santa Rosa", id_prov: "10" },
    dpto10105: { nombre: "Tinogasta", id_prov: "10" },
    dpto10112: { nombre: "Valle Viejo", id_prov: "10" },
    dpto14007: { nombre: "Calamuchita", id_prov: "14" },
    dpto14014: { nombre: "Sin Informacion", id_prov: "14" },
    dpto14021: { nombre: "Sin Informacion", id_prov: "14" },
    dpto14028: { nombre: "Cruz del Eje", id_prov: "14" },
    dpto14035: { nombre: "General Roca", id_prov: "14" },
    dpto14042: { nombre: "Sin Informacion", id_prov: "14" },
    dpto14049: { nombre: "Ischilín", id_prov: "14" },
    dpto14056: { nombre: "Juárez Celman", id_prov: "14" },
    dpto14063: { nombre: "Marcos Juárez", id_prov: "14" },
    dpto14070: { nombre: "Minas", id_prov: "14" },
    dpto14077: { nombre: "Pocho", id_prov: "14" },
    dpto14084: { nombre: "Presidente Roque Sáenz Peña", id_prov: "14" },
    dpto14091: { nombre: "Punilla", id_prov: "14" },
    dpto14098: { nombre: "Río Cuarto", id_prov: "14" },
    dpto14105: { nombre: "Río Primero", id_prov: "14" },
    dpto14112: { nombre: "Río Seco", id_prov: "14" },
    dpto14119: { nombre: "Río Segundo", id_prov: "14" },
    dpto14126: { nombre: "San Alberto", id_prov: "14" },
    dpto14133: { nombre: "San Javier", id_prov: "14" },
    dpto14140: { nombre: "San Justo", id_prov: "14" },
    dpto14147: { nombre: "Sin Informacion", id_prov: "14" },
    dpto14154: { nombre: "Sobremonte", id_prov: "14" },
    dpto14161: { nombre: "Tercero Arriba", id_prov: "14" },
    dpto14168: { nombre: "Totoral", id_prov: "14" },
    dpto14175: { nombre: "Tulumba", id_prov: "14" },
    dpto14182: { nombre: "Unión", id_prov: "14" },
    dpto18007: { nombre: "Bella Vista", id_prov: "18" },
    dpto18014: { nombre: "Berón de Astrada", id_prov: "18" },
    dpto18021: { nombre: "Sin Informacion", id_prov: "18" },
    dpto18028: { nombre: "Concepción", id_prov: "18" },
    dpto18035: { nombre: "Curuzú Cuatiá", id_prov: "18" },
    dpto18042: { nombre: "Empedrado", id_prov: "18" },
    dpto18049: { nombre: "Esquina", id_prov: "18" },
    dpto18056: { nombre: "Sin Informacion", id_prov: "18" },
    dpto18063: { nombre: "Sin Informacion", id_prov: "18" },
    dpto18070: { nombre: "Goya", id_prov: "18" },
    dpto18077: { nombre: "Itatí", id_prov: "18" },
    dpto18084: { nombre: "Sin Informacion", id_prov: "18" },
    dpto18091: { nombre: "Lavalle", id_prov: "18" },
    dpto18098: { nombre: "Mburucuyá", id_prov: "18" },
    dpto18105: { nombre: "Sin Informacion", id_prov: "18" },
    dpto18112: { nombre: "Monte Caseros", id_prov: "18" },
    dpto18119: { nombre: "Paso de los Libres", id_prov: "18" },
    dpto18126: { nombre: "Saladas", id_prov: "18" },
    dpto18133: { nombre: "San Cosme", id_prov: "18" },
    dpto18140: { nombre: "San Luis del Palmar", id_prov: "18" },
    dpto18147: { nombre: "San Martín", id_prov: "18" },
    dpto18154: { nombre: "Sin Informacion", id_prov: "18" },
    dpto18161: { nombre: "San Roque", id_prov: "18" },
    dpto18168: { nombre: "Santo Tomé", id_prov: "18" },
    dpto18175: { nombre: "Sauce", id_prov: "18" },
    dpto22007: { nombre: "Sin Informacion", id_prov: "22" },
    dpto22014: { nombre: "Bermejo", id_prov: "22" },
    dpto22021: { nombre: "Comandante Fernández", id_prov: "22" },
    dpto22028: { nombre: "Sin Informacion", id_prov: "22" },
    dpto22036: { nombre: "12 de Octubre", id_prov: "22" },
    dpto22039: { nombre: "2 de Abril", id_prov: "22" },
    dpto22043: { nombre: "Fray Justo Santa María de Oro", id_prov: "22" },
    dpto22049: { nombre: "Sin Informacion", id_prov: "22" },
    dpto22056: { nombre: "General Donovan", id_prov: "22" },
    dpto22063: { nombre: "General Güemes", id_prov: "22" },
    dpto22070: { nombre: "Independencia", id_prov: "22" },
    dpto22077: { nombre: "Libertad", id_prov: "22" },
    dpto22084: { nombre: "Libertador General San Martín", id_prov: "22" },
    dpto22091: { nombre: "Sin Informacion", id_prov: "22" },
    dpto22098: { nombre: "Mayor Luis J. Fontana", id_prov: "22" },
    dpto22105: { nombre: "Sin Informacion", id_prov: "22" },
    dpto22112: { nombre: "O' Higgins", id_prov: "22" },
    dpto22119: { nombre: "Presidencia de la Plaza", id_prov: "22" },
    dpto22126: { nombre: "1o de Mayo", id_prov: "22" },
    dpto22133: { nombre: "Quitilipi", id_prov: "22" },
    dpto22140: { nombre: "Sin Informacion", id_prov: "22" },
    dpto22147: { nombre: "San Lorenzo", id_prov: "22" },
    dpto22154: { nombre: "Sargento Cabral", id_prov: "22" },
    dpto22161: { nombre: "Tapenagá", id_prov: "22" },
    dpto22168: { nombre: "Sin Informacion", id_prov: "22" },
    dpto26007: { nombre: "Biedma", id_prov: "26" },
    dpto26014: { nombre: "Cushamen", id_prov: "26" },
    dpto26021: { nombre: "Escalante", id_prov: "26" },
    dpto26028: { nombre: "Sin Informacion", id_prov: "26" },
    dpto26035: { nombre: "Futaleufú", id_prov: "26" },
    dpto26042: { nombre: "Gaiman", id_prov: "26" },
    dpto26049: { nombre: "Gastre", id_prov: "26" },
    dpto26056: { nombre: "Languiñeo", id_prov: "26" },
    dpto26063: { nombre: "Mártires", id_prov: "26" },
    dpto26070: { nombre: "Paso de Indios", id_prov: "26" },
    dpto26077: { nombre: "Rawson", id_prov: "26" },
    dpto26084: { nombre: "Río Senguer", id_prov: "26" },
    dpto26091: { nombre: "Sarmiento", id_prov: "26" },
    dpto26098: { nombre: "Tehuelches", id_prov: "26" },
    dpto26105: { nombre: "Telsen", id_prov: "26" },
    dpto30008: { nombre: "Sin Informacion", id_prov: "30" },
    dpto30015: { nombre: "Concordia", id_prov: "30" },
    dpto30021: { nombre: "Diamante", id_prov: "30" },
    dpto30028: { nombre: "Federación", id_prov: "30" },
    dpto30035: { nombre: "Federal", id_prov: "30" },
    dpto30042: { nombre: "Feliciano", id_prov: "30" },
    dpto30049: { nombre: "Gualeguay", id_prov: "30" },
    dpto30056: { nombre: "Gualeguaychú", id_prov: "30" },
    dpto30063: { nombre: "Islas del Ibicuy", id_prov: "30" },
    dpto30070: { nombre: "Sin Informacion", id_prov: "30" },
    dpto30077: { nombre: "Nogoyá", id_prov: "30" },
    dpto30084: { nombre: "Paraná", id_prov: "30" },
    dpto30088: { nombre: "San Salvador", id_prov: "30" },
    dpto30091: { nombre: "Tala", id_prov: "30" },
    dpto30098: { nombre: "Uruguay", id_prov: "30" },
    dpto30105: { nombre: "Victoria", id_prov: "30" },
    dpto30113: { nombre: "Villaguay", id_prov: "30" },
    dpto34007: { nombre: "Sin Informacion", id_prov: "34" },
    dpto34014: { nombre: "Formosa", id_prov: "34" },
    dpto34021: { nombre: "Laishi", id_prov: "34" },
    dpto34028: { nombre: "Matacos", id_prov: "34" },
    dpto34035: { nombre: "Patiño", id_prov: "34" },
    dpto34042: { nombre: "Pilagás", id_prov: "34" },
    dpto34049: { nombre: "Pilcomayo", id_prov: "34" },
    dpto34056: { nombre: "Pirané", id_prov: "34" },
    dpto34063: { nombre: "Ramón Lista", id_prov: "34" },
    dpto38007: { nombre: "Cochinoca", id_prov: "38" },
    dpto38014: { nombre: "El Carmen", id_prov: "38" },
    dpto38021: { nombre: "Dr. Manuel Belgrano", id_prov: "38" },
    dpto38028: { nombre: "Humahuaca", id_prov: "38" },
    dpto38035: { nombre: "Ledesma", id_prov: "38" },
    dpto38042: { nombre: "Palpalá", id_prov: "38" },
    dpto38049: { nombre: "Rinconada", id_prov: "38" },
    dpto38056: { nombre: "San Antonio", id_prov: "38" },
    dpto38063: { nombre: "Sin Informacion", id_prov: "38" },
    dpto38070: { nombre: "Santa Bárbara", id_prov: "38" },
    dpto38077: { nombre: "Santa Catalina", id_prov: "38" },
    dpto38084: { nombre: "Susques", id_prov: "38" },
    dpto38094: { nombre: "Tilcara", id_prov: "38" },
    dpto38098: { nombre: "Tumbaya", id_prov: "38" },
    dpto38105: { nombre: "Valle Grande", id_prov: "38" },
    dpto38112: { nombre: "Yavi", id_prov: "38" },
    dpto42007: { nombre: "Atreucó", id_prov: "42" },
    dpto42014: { nombre: "Caleu Caleu", id_prov: "42" },
    dpto42021: { nombre: "Sin Informacion", id_prov: "42" },
    dpto42028: { nombre: "Catriló", id_prov: "42" },
    dpto42035: { nombre: "Conhelo", id_prov: "42" },
    dpto42042: { nombre: "Curacó", id_prov: "42" },
    dpto42049: { nombre: "Chalileo", id_prov: "42" },
    dpto42056: { nombre: "Chapaleufú", id_prov: "42" },
    dpto42063: { nombre: "Chicalcó", id_prov: "42" },
    dpto42070: { nombre: "Guatraché", id_prov: "42" },
    dpto42077: { nombre: "Hucal", id_prov: "42" },
    dpto42084: { nombre: "Lihuel Calel", id_prov: "42" },
    dpto42091: { nombre: "Limay Mahuida", id_prov: "42" },
    dpto42098: { nombre: "Loventué", id_prov: "42" },
    dpto42105: { nombre: "Maracó", id_prov: "42" },
    dpto42112: { nombre: "Puelén", id_prov: "42" },
    dpto42119: { nombre: "Quemú Quemú", id_prov: "42" },
    dpto42126: { nombre: "Rancul", id_prov: "42" },
    dpto42133: { nombre: "Realicó", id_prov: "42" },
    dpto42140: { nombre: "Toay", id_prov: "42" },
    dpto42147: { nombre: "Trenel", id_prov: "42" },
    dpto42154: { nombre: "Utracán", id_prov: "42" },
    dpto46007: { nombre: "Arauco", id_prov: "46" },
    dpto46014: { nombre: "Sin Informacion", id_prov: "46" },
    dpto46021: { nombre: "Castro Barros", id_prov: "46" },
    dpto46028: { nombre: "Coronel Felipe Varela", id_prov: "46" },
    dpto46035: { nombre: "Chamical", id_prov: "46" },
    dpto46042: { nombre: "Chilecito", id_prov: "46" },
    dpto46049: { nombre: "Famatina", id_prov: "46" },
    dpto46056: { nombre: "General Angel V. Peñaloza", id_prov: "46" },
    dpto46063: { nombre: "Sin Informacion", id_prov: "46" },
    dpto46070: { nombre: "General Juan F. Quiroga", id_prov: "46" },
    dpto46077: { nombre: "General Lamadrid", id_prov: "46" },
    dpto46084: { nombre: "General Ocampo", id_prov: "46" },
    dpto46091: { nombre: "Sin Informacion", id_prov: "46" },
    dpto46098: { nombre: "Vinchina", id_prov: "46" },
    dpto46105: { nombre: "Sin Informacion", id_prov: "46" },
    dpto46112: { nombre: "Rosario Vera Peñaloza", id_prov: "46" },
    dpto46119: { nombre: "San Blas de los Sauces", id_prov: "46" },
    dpto46126: { nombre: "Sanagasta", id_prov: "46" },
    dpto50007: { nombre: "Sin Informacion", id_prov: "50" },
    dpto50014: { nombre: "Sin Informacion", id_prov: "50" },
    dpto50021: { nombre: "Godoy Cruz", id_prov: "50" },
    dpto50028: { nombre: "Guaymallén", id_prov: "50" },
    dpto50035: { nombre: "Sin Informacion", id_prov: "50" },
    dpto50042: { nombre: "Sin Informacion", id_prov: "50" },
    dpto50049: { nombre: "Las Heras", id_prov: "50" },
    dpto50056: { nombre: "Sin Informacion", id_prov: "50" },
    dpto50063: { nombre: "Luján de Cuyo", id_prov: "50" },
    dpto50070: { nombre: "Sin Informacion", id_prov: "50" },
    dpto50077: { nombre: "Malargüe", id_prov: "50" },
    dpto50084: { nombre: "Sin Informacion", id_prov: "50" },
    dpto50091: { nombre: "San Carlos", id_prov: "50" },
    dpto50098: { nombre: "Sin Informacion", id_prov: "50" },
    dpto50105: { nombre: "San Rafael", id_prov: "50" },
    dpto50112: { nombre: "Sin Informacion", id_prov: "50" },
    dpto50119: { nombre: "Tunuyán", id_prov: "50" },
    dpto50126: { nombre: "Tupungato", id_prov: "50" },
    dpto54007: { nombre: "Apóstoles", id_prov: "54" },
    dpto54014: { nombre: "Cainguás", id_prov: "54" },
    dpto54021: { nombre: "Candelaria", id_prov: "54" },
    dpto54028: { nombre: "Sin Informacion", id_prov: "54" },
    dpto54035: { nombre: "Sin Informacion", id_prov: "54" },
    dpto54042: { nombre: "Eldorado", id_prov: "54" },
    dpto54049: { nombre: "General Manuel Belgrano", id_prov: "54" },
    dpto54056: { nombre: "Guaraní", id_prov: "54" },
    dpto54063: { nombre: "Iguazú", id_prov: "54" },
    dpto54070: { nombre: "Sin Informacion", id_prov: "54" },
    dpto54077: { nombre: "Libertador Grl. San Martín", id_prov: "54" },
    dpto54084: { nombre: "Montecarlo", id_prov: "54" },
    dpto54091: { nombre: "Oberá", id_prov: "54" },
    dpto54098: { nombre: "San Ignacio", id_prov: "54" },
    dpto54105: { nombre: "Sin Informacion", id_prov: "54" },
    dpto54112: { nombre: "Sin Informacion", id_prov: "54" },
    dpto54119: { nombre: "Sin Informacion", id_prov: "54" },
    dpto58007: { nombre: "Aluminé", id_prov: "58" },
    dpto58014: { nombre: "Añelo", id_prov: "58" },
    dpto58021: { nombre: "Catán Lil", id_prov: "58" },
    dpto58028: { nombre: "Collón Curá", id_prov: "58" },
    dpto58035: { nombre: "Confluencia", id_prov: "58" },
    dpto58042: { nombre: "Chos Malal", id_prov: "58" },
    dpto58049: { nombre: "Huiliches", id_prov: "58" },
    dpto58056: { nombre: "Lácar", id_prov: "58" },
    dpto58063: { nombre: "Loncopué", id_prov: "58" },
    dpto58070: { nombre: "Los Lagos", id_prov: "58" },
    dpto58077: { nombre: "Sin Informacion", id_prov: "58" },
    dpto58084: { nombre: "Ñorquín", id_prov: "58" },
    dpto58091: { nombre: "Pehuenches", id_prov: "58" },
    dpto58098: { nombre: "Picún Leufú", id_prov: "58" },
    dpto58105: { nombre: "Picunches", id_prov: "58" },
    dpto58112: { nombre: "Zapala", id_prov: "58" },
    dpto62007: { nombre: "Sin Informacion", id_prov: "62" },
    dpto62014: { nombre: "Sin Informacion", id_prov: "62" },
    dpto62021: { nombre: "Bariloche", id_prov: "62" },
    dpto62028: { nombre: "Conesa", id_prov: "62" },
    dpto62035: { nombre: "El Cuy", id_prov: "62" },
    dpto62042: { nombre: "Sin Informacion", id_prov: "62" },
    dpto62049: { nombre: "Sin Informacion", id_prov: "62" },
    dpto62056: { nombre: "Ñorquincó", id_prov: "62" },
    dpto62063: { nombre: "Pichi Mahuida", id_prov: "62" },
    dpto62070: { nombre: "Pilcaniyeu", id_prov: "62" },
    dpto62077: { nombre: "Sin Informacion", id_prov: "62" },
    dpto62084: { nombre: "Valcheta", id_prov: "62" },
    dpto62091: { nombre: "Sin Informacion", id_prov: "62" },
    dpto66007: { nombre: "Anta", id_prov: "66" },
    dpto66014: { nombre: "Cachi", id_prov: "66" },
    dpto66021: { nombre: "Cafayate", id_prov: "66" },
    dpto66028: { nombre: "Sin Informacion", id_prov: "66" },
    dpto66035: { nombre: "Cerrillos", id_prov: "66" },
    dpto66042: { nombre: "Chicoana", id_prov: "66" },
    dpto66049: { nombre: "Sin Informacion", id_prov: "66" },
    dpto66056: { nombre: "Grl. José de San Martín", id_prov: "66" },
    dpto66063: { nombre: "Guachipas", id_prov: "66" },
    dpto66070: { nombre: "Iruya", id_prov: "66" },
    dpto66077: { nombre: "La Caldera", id_prov: "66" },
    dpto66084: { nombre: "La Candelaria", id_prov: "66" },
    dpto66091: { nombre: "La Poma", id_prov: "66" },
    dpto66098: { nombre: "La Viña", id_prov: "66" },
    dpto66105: { nombre: "Los Andes", id_prov: "66" },
    dpto66112: { nombre: "Metán", id_prov: "66" },
    dpto66119: { nombre: "Molinos", id_prov: "66" },
    dpto66126: { nombre: "Orán", id_prov: "66" },
    dpto66133: { nombre: "Sin Informacion", id_prov: "66" },
    dpto66140: { nombre: "Rosario de la Frontera", id_prov: "66" },
    dpto66147: { nombre: "Rosario de Lerma", id_prov: "66" },
    dpto66154: { nombre: "Sin Informacion", id_prov: "66" },
    dpto66161: { nombre: "Santa Victoria", id_prov: "66" },
    dpto70007: { nombre: "Albardón", id_prov: "70" },
    dpto70014: { nombre: "Angaco", id_prov: "70" },
    dpto70021: { nombre: "Calingasta", id_prov: "70" },
    dpto70028: { nombre: "Sin Informacion", id_prov: "70" },
    dpto70035: { nombre: "Caucete", id_prov: "70" },
    dpto70042: { nombre: "Chimbas", id_prov: "70" },
    dpto70049: { nombre: "Iglesia", id_prov: "70" },
    dpto70056: { nombre: "Jáchal", id_prov: "70" },
    dpto70063: { nombre: "Sin Informacion", id_prov: "70" },
    dpto70070: { nombre: "Pocito", id_prov: "70" },
    dpto70077: { nombre: "Sin Informacion", id_prov: "70" },
    dpto70084: { nombre: "Sin Informacion", id_prov: "70" },
    dpto70091: { nombre: "Sin Informacion", id_prov: "70" },
    dpto70098: { nombre: "Santa Lucía", id_prov: "70" },
    dpto70105: { nombre: "Sin Informacion", id_prov: "70" },
    dpto70112: { nombre: "Ullúm", id_prov: "70" },
    dpto70119: { nombre: "Valle Fértil", id_prov: "70" },
    dpto70126: { nombre: "Sin Informacion", id_prov: "70" },
    dpto70133: { nombre: "Zonda", id_prov: "70" },
    dpto74007: { nombre: "Sin Informacion", id_prov: "74" },
    dpto74014: { nombre: "Belgrano", id_prov: "74" },
    dpto74021: { nombre: "Sin Informacion", id_prov: "74" },
    dpto74028: { nombre: "Sin Informacion", id_prov: "74" },
    dpto74035: { nombre: "General Pedernera", id_prov: "74" },
    dpto74042: { nombre: "Gobernador Dupuy", id_prov: "74" },
    dpto74049: { nombre: "Sin Informacion", id_prov: "74" },
    dpto74056: { nombre: "La Capital", id_prov: "74" },
    dpto74063: { nombre: "Sin Informacion", id_prov: "74" },
    dpto78007: { nombre: "Corpen Aike", id_prov: "78" },
    dpto78014: { nombre: "Deseado", id_prov: "78" },
    dpto78021: { nombre: "Güer Aike", id_prov: "78" },
    dpto78028: { nombre: "Lago Argentino", id_prov: "78" },
    dpto78035: { nombre: "Lago Buenos Aires", id_prov: "78" },
    dpto78042: { nombre: "Magallanes", id_prov: "78" },
    dpto78049: { nombre: "Río Chico", id_prov: "78" },
    dpto82007: { nombre: "Sin Informacion", id_prov: "82" },
    dpto82014: { nombre: "Caseros", id_prov: "82" },
    dpto82021: { nombre: "Castellanos", id_prov: "82" },
    dpto82028: { nombre: "Constitución", id_prov: "82" },
    dpto82035: { nombre: "Garay", id_prov: "82" },
    dpto82042: { nombre: "General López", id_prov: "82" },
    dpto82049: { nombre: "General Obligado", id_prov: "82" },
    dpto82056: { nombre: "Iriondo", id_prov: "82" },
    dpto82063: { nombre: "Sin Informacion", id_prov: "82" },
    dpto82070: { nombre: "Las Colonias", id_prov: "82" },
    dpto82077: { nombre: "Sin Informacion", id_prov: "82" },
    dpto82084: { nombre: "Rosario", id_prov: "82" },
    dpto82091: { nombre: "San Cristóbal", id_prov: "82" },
    dpto82098: { nombre: "Sin Informacion", id_prov: "82" },
    dpto82105: { nombre: "San Jerónimo", id_prov: "82" },
    dpto82112: { nombre: "Sin Informacion", id_prov: "82" },
    dpto82119: { nombre: "Sin Informacion", id_prov: "82" },
    dpto82126: { nombre: "Sin Informacion", id_prov: "82" },
    dpto82133: { nombre: "Vera", id_prov: "82" },
    dpto86007: { nombre: "Aguirre", id_prov: "86" },
    dpto86014: { nombre: "Alberdi", id_prov: "86" },
    dpto86021: { nombre: "Atamisqui", id_prov: "86" },
    dpto86028: { nombre: "Sin Informacion", id_prov: "86" },
    dpto86035: { nombre: "Banda", id_prov: "86" },
    dpto86042: { nombre: "Sin Informacion", id_prov: "86" },
    dpto86049: { nombre: "Sin Informacion", id_prov: "86" },
    dpto86056: { nombre: "Copo", id_prov: "86" },
    dpto86063: { nombre: "Choya", id_prov: "86" },
    dpto86070: { nombre: "Figueroa", id_prov: "86" },
    dpto86077: { nombre: "General Taboada", id_prov: "86" },
    dpto86084: { nombre: "Guasayán", id_prov: "86" },
    dpto86091: { nombre: "Jiménez", id_prov: "86" },
    dpto86098: { nombre: "Juan F. Ibarra", id_prov: "86" },
    dpto86105: { nombre: "Loreto", id_prov: "86" },
    dpto86112: { nombre: "Mitre", id_prov: "86" },
    dpto86119: { nombre: "Sin Informacion", id_prov: "86" },
    dpto86126: { nombre: "Ojo de Agua", id_prov: "86" },
    dpto86133: { nombre: "Sin Informacion", id_prov: "86" },
    dpto86140: { nombre: "Quebrachos", id_prov: "86" },
    dpto86147: { nombre: "Río Hondo", id_prov: "86" },
    dpto86154: { nombre: "Sin Informacion", id_prov: "86" },
    dpto86161: { nombre: "Robles", id_prov: "86" },
    dpto86168: { nombre: "Salavina", id_prov: "86" },
    dpto86175: { nombre: "Sin Informacion", id_prov: "86" },
    dpto86182: { nombre: "Sin Informacion", id_prov: "86" },
    dpto86189: { nombre: "Silípica", id_prov: "86" },
    dpto90007: { nombre: "Burruyacú", id_prov: "90" },
    dpto90014: { nombre: "Cruz Alta", id_prov: "90" },
    dpto90021: { nombre: "Chicligasta", id_prov: "90" },
    dpto90028: { nombre: "Famaillá", id_prov: "90" },
    dpto90035: { nombre: "Graneros", id_prov: "90" },
    dpto90042: { nombre: "Juan Bautista Alberdi", id_prov: "90" },
    dpto90049: { nombre: "La Cocha", id_prov: "90" },
    dpto90056: { nombre: "Leales", id_prov: "90" },
    dpto90063: { nombre: "Lules", id_prov: "90" },
    dpto90070: { nombre: "Monteros", id_prov: "90" },
    dpto90077: { nombre: "Sin Informacion", id_prov: "90" },
    dpto90084: { nombre: "Sin Informacion", id_prov: "90" },
    dpto90091: { nombre: "Simoca", id_prov: "90" },
    dpto90098: { nombre: "Tafí del Valle", id_prov: "90" },
    dpto90105: { nombre: "Tafí Viejo", id_prov: "90" },
    dpto90112: { nombre: "Trancas", id_prov: "90" },
    dpto90119: { nombre: "Yerba Buena", id_prov: "90" },
    dpto94007: { nombre: "Río Grande", id_prov: "94" },
    dpto94014: { nombre: "Ushuaia'", id_prov: "94" }
  };
  var provs = {
    prov02: 'Ciudad Autónoma de Buenos Aires',
    prov06: 'Buenos Aires',
    prov10: 'Catamarca',
    prov14: 'Córdoba',
    prov18: 'Corrientes',
    prov22: 'Chaco',
    prov26: 'Chubut',
    prov30: 'Entre Ríos',
    prov34: 'Formosa',
    prov38: 'Jujuy',
    prov42: 'La Pampa',
    prov46: 'La Rioja',
    prov50: 'Mendoza',
    prov54: 'Misiones',
    prov58: 'Neuquén',
    prov62: 'Río Negro',
    prov66: 'Salta',
    prov70: 'San Juan',
    prov74: 'San Luis',
    prov78: 'Santa Cruz',
    prov82: 'Santa Fe',
    prov86: 'Santiago del Estero',
    prov90: 'Tucumán',
    prov94: 'Tierra del Fuego, Antártida e Islas del Atlántico Sur'
  };
  $('#tooltip').hide(); // A mejorar ... Asignar parametro por defecto en CSS

  // Map Generator
  var map = void 0;
  navigator.geolocation.getCurrentPosition(success, error, { enableHighAccuracy: true, timeout: 5000, maximumAge: 0 }); // Se consultan coordenadas
  function success(pos) {
    var coordenadas = [(pos.coords.longitude-0.1), pos.coords.latitude];
    generarMapa(coordenadas);
  };
  function error(err) {
    var coordenadas = [-58.436764, -34.575522];
    generarMapa(coordenadas);
  };
  function generarMapa(coordenadas) {
    mapboxgl.accessToken = 'pk.eyJ1IjoiZnJhbWxvcGV6IiwiYSI6ImNpdWhrYWdvNjAwdjYzcHFmaDl1YTQyOTYifQ.g62pBFWJnDt8vIiHQ5HM8A'; // Token MapBox
    // Set bounds to Argentina, Argentina
    var bounds = [[-80, -60], [-50, -20]];
    map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/framlopez/civjo1vi600582iqoly4paool', // Style MapBox
      center: coordenadas,
      zoom: 9.5, // Definimos el ZOOM inicial
      pitch: 60,
      bearing: 0,
      maxBounds: bounds // Sets bounds as max
    });
    // Datos Archivo GeoJson
    var ubicacion = "/populationMap/dataset/",
        extension = ".geojson",
        archivo = ubicacion + "datos" + extension;
    d3.json(archivo, ejecutarMapa);
  };
  function ejecutarMapa(datos) {
    map.addControl(new mapboxgl.NavigationControl({position: 'top-right'})); // Control de ZOOM
    map.addControl(new mapboxgl.ScaleControl({ position: 'bottom-right', maxWidth: 80, unit: 'metric' })); // Control de escala
    map.addControl(new mapboxgl.Geocoder()); // Control Search
    $('#buscador').append($('#map > div.mapboxgl-control-container > div.mapboxgl-ctrl-top-left > div.mapboxgl-ctrl-geocoder.mapboxgl-ctrl'));
    $('#buscador > div > input[type="text"]').attr('placeholder', 'Buscá una ciudad');
    window.data = datos; // Entorno Prueba
    var nuevosDatos = {
      features: [],
      type: "FeatureCollection"
    };
    map.on('load', function (d) { // Cargamos datos
      map.addSource("Argentina", { // Tomamos datos de dataset local
        'type': 'geojson',
        'data': datos
      });
      map.addSource("Argentina-Hover", {
        'type': 'geojson',
        'data': nuevosDatos
      });
      map.addLayer({ // Agregamos capa de extrusion
        'id': 'extrusion',
        'source': 'Argentina',
        // 'source-layer': 'datos_caba',
        'type': 'fill',
        'paint': {
          'fill-color': {
            'property': 'color',
            'type': 'identity'
          },
          'fill-extrude-height': {
            'property': 'densidad',
            'type': 'identity'
          },
          'fill-opacity': 1
        }
      }, 'country-label-sm');
      map.addLayer({
        'id': 'color-hover',
        'source': 'Argentina-Hover',
        // 'source-layer': 'datos_caba',
        'type': 'fill',
        "paint": {
          'fill-color': 'yellow',
          'fill-extrude-height': {
            'property': 'densidad',
            'type': 'identity'
          },
          'fill-opacity': 0.7
        }
      }, 'country-label-sm');
    });
    window.mapa = map;
    var colorLayer = map.getLayer('color-hover');
    map.on('mousemove', function (e) {
      var features = map.queryRenderedFeatures(e.point, { layers: ['extrusion'] });
      if (features.length) { // Si hay datos
        nuevosDatos.features[0] = features[0];
        map.getSource('Argentina-Hover').setData(nuevosDatos);
        map.getCanvas().style.cursor = ''; // Defino tipo de cursor
        $('#tooltip').css({ "transform": "translate(" + (e.point.x + 10) + "px, " + (e.point.y + 10) + "px)" }).show();
        $('#contentTooltip').empty().append('<section class="tooltip_container">'
                                          + '<article>' + 'Provincia: ' + provs["prov" + features[0].properties.prov_id] + '</article>'
                                          + '<article>' + 'Departamento: ' + dptos["dpto" + features[0].properties.dpto_id].nombre + '</article>'
                                          + '<article class="fontWhite">' + '<svg x="0px" y="0px" class="peopleIcon" viewBox="0 0 13.8 12.2"><path fill="white" d="M13.8,12.2c-4.6,0-9.1,0-13.7,0c0-0.4-0.1-0.8-0.1-1.1c0-1.2,0.5-1.9,1.7-2.3c0.9-0.3,1.8-0.5,2.7-0.8c0.3-0.1,0.6-0.3,0.9-0.5c0.2-0.2,0.3-0.4,0-0.7C4.4,5.7,3.9,4.4,3.9,3C4,1.3,5.5-0.1,7,0C8.6,0.1,10,1.7,9.9,3.4C9.8,4.7,9.3,5.8,8.3,6.8C8.1,7,8.1,7.3,8.4,7.5c0.3,0.2,0.6,0.4,0.9,0.5c0.9,0.3,1.8,0.5,2.7,0.8c1.4,0.4,2,1.3,1.9,2.8C13.8,11.8,13.8,12,13.8,12.2z"/></svg>' + parseFloat(features[0].properties.poblacion).toFixed(0) + '<span class="fontSilver">' + '&nbsp;(' + parseFloat(features[0].properties.densidad).toFixed(2) + ') / km<sup>2</sup>' + '</span>' + '</article>'
                                          + '<article class="fontWhite">' + '<svg x="0px" y="0px" class="areaIcon" viewBox="0 0 9.6 10"><g><polyline fill="none" stroke="#FFFFFF" stroke-miterlimit="10" points="9.1,8 9.1,9.5 7.6,9.5" /><line fill="none" stroke="#FFFFFF" stroke-miterlimit="10" stroke-dasharray="1.8796,1.8796" x1="5.8" y1="9.5" x2="2.9" y2="9.5"/><polyline fill="none" stroke="#FFFFFF" stroke-miterlimit="10" points="2,9.5 0.5,9.5 0.5,8" /><line fill="none" stroke="#FFFFFF" stroke-miterlimit="10" stroke-dasharray="1.9848,1.9848" x1="0.5" y1="6" x2="0.5" y2="3"/><polyline fill="none" stroke="#FFFFFF" stroke-miterlimit="10" points="0.5,2 0.5,0.5 2,0.5" /><line fill="none" stroke="#FFFFFF" stroke-miterlimit="10" stroke-dasharray="1.8796,1.8796" x1="3.9" y1="0.5" x2="6.7" y2="0.5"/><polyline fill="none" stroke="#FFFFFF" stroke-miterlimit="10" points="7.6,0.5 9.1,0.5 9.1,2" /><line fill="none" stroke="#FFFFFF" stroke-miterlimit="10" stroke-dasharray="1.9848,1.9848" x1="9.1" y1="4" x2="9.1" y2="7"/></g></svg>' + parseFloat(features[0].properties.area).toFixed(2) + ' km<sup>2</sup>' + '</article>'
                                          + '</section>');
      } else {
        $('#tooltip').hide();
        map.getCanvas().style.cursor = ''; // Defino tipo de cursor
        map.getSource('Argentina-Hover').setData();
      }
    });
    // map.setLayerZoomRange('my-layer', 2, 5);
  };

  $('#botonForm').on('click', function (e) {
    $('.mapboxgl-ctrl-geocoder.mapboxgl-ctrl').children('input').val($('#datoBusqueda').val());
  });
});
